int getModulo ( int n, int d ) {
  return ( n & ( d - 1 ) );
}